<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”è¡Œæ€§æ ¼åˆ†æ - Lab Edition | Mochisura Lab</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;700&family=Fira+Code:wght@400;500&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        .app-container {
            max-width: 600px;
            margin: 4rem auto;
            padding: 2rem;
            background: #fff;
            border: 1px solid var(--color-border);
            position: relative;
        }

        .setup-screen,
        .quiz-screen,
        .result-screen {
            display: none;
        }

        .active {
            display: block;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .lab-warning {
            padding: 1.5rem;
            background: rgba(217, 144, 88, 0.05);
            border: 1px dashed var(--color-accent-warm);
            margin-bottom: 2rem;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .yy-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .yy-btn {
            padding: 2rem;
            border: 1px solid var(--color-border);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .yy-btn:hover {
            border-color: var(--color-accent-tech);
            background: rgba(94, 140, 149, 0.05);
        }

        .yy-btn h3 {
            margin-bottom: 0.5rem;
        }

        .progress-bar-container {
            width: 100%;
            height: 2px;
            background: var(--color-border);
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 100%;
            background: var(--color-accent-tech);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-box h2 {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            line-height: 1.8;
            min-height: 4em;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .opt-btn {
            padding: 1rem 1.5rem;
            border: 1px solid var(--color-border);
            background: none;
            text-align: left;
            cursor: pointer;
            font-family: var(--font-body);
            transition: all 0.2s ease;
        }

        .opt-btn:hover {
            background: #fafafa;
            border-color: var(--color-accent-tech);
            padding-left: 2rem;
        }

        .result-card {
            padding: 2rem;
            border: 2px solid var(--color-text);
            margin-bottom: 2rem;
            background: #fff;
        }

        .result-title {
            font-size: 1.5rem;
            color: var(--color-accent-warm);
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 1rem;
        }

        .result-desc {
            line-height: 1.9;
            margin-bottom: 2rem;
            color: #444;
        }

        .item-box {
            background: var(--color-bg);
            padding: 1rem;
            font-size: 0.9rem;
            font-family: var(--font-code);
        }

        canvas#radarChart {
            margin: 2rem 0;
        }
    </style>
</head>

<body>
    <div class="bg-texture"></div>

        <header class="site-header"><div class="container"><div class="logo"><a href="../index.html"><img src="../assets/logo.png" alt="Mochisura Lab Logo"><span class="logo-text">Mochisura Lab</span></a></div><nav class="site-nav"><a href="../index.html#products">Products</a><a href="../index.html#knowledge">Knowledge</a><a href="../index.html#community">Community</a><a href="../index.html#store">Store</a><a href="../blog/index.html">Dev Blog</a><button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ›¿">ğŸŒ™</button>
</nav></div></header>

    <main class="container">
        <div class="app-container">
            <!-- Setup Screen -->
            <div id="scene-start" class="setup-screen active">
                <div class="featured-label">EXPERIMENT #02</div>
                <h1 style="font-family:var(--font-heading); margin-bottom:1rem;">äº”è¡Œæ€§æ ¼åˆ†æ</h1>

                <div class="lab-warning">
                    <p><strong>[è­¦å‘Š]</strong>
                        ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€å¤ä»£ä¸­å›½ã®äº”è¡Œæ€æƒ³ã«åŸºã¥ãã€å¯¾è±¡è€…ã®æ½œåœ¨çš„æ€§æ ¼ã‚’ã€Œæ¥µã‚ã¦å®¢è¦³çš„ï¼ˆã‹ã¤è¾›è¾£ï¼‰ã€ã«æŠ½å‡ºã—ã¾ã™ã€‚æ„Ÿæƒ…çš„ãªãƒã‚¤ã‚¢ã‚¹ã‚’æ’é™¤ã—ã€äº‹å®Ÿã®ã¿ã‚’å—ã‘å…¥ã‚Œã‚‹è¦šæ‚Ÿã§ãŠé€²ã¿ãã ã•ã„ã€‚</p>
                </div>

                <p style="text-align:center; margin-bottom:1.5rem;">ã‚ãªãŸã®é­‚ã®å±æ€§ï¼ˆé™°é™½ï¼‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>

                <div class="yy-selection">
                    <div class="yy-btn" onclick="startGame('yang')">
                        <h3>é™½ (YANG)</h3>
                        <p style="font-size:0.75rem;">èƒ½å‹•çš„ãƒ»å¤–å‘çš„</p>
                    </div>
                    <div class="yy-btn" onclick="startGame('yin')">
                        <h3>é™° (YIN)</h3>
                        <p style="font-size:0.75rem;">å—å‹•çš„ãƒ»å†…å‘çš„</p>
                    </div>
                </div>
            </div>

            <!-- Quiz Screen -->
            <div id="scene-quiz" class="quiz-screen">
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="question-box">
                    <div style="font-family:var(--font-code); font-size:0.8rem; margin-bottom:1rem;">QUESTION <span
                            id="q-num">1</span>/10</div>
                    <h2 id="q-text">è³ªå•ãƒ†ã‚­ã‚¹ãƒˆãŒå…¥ã‚Šã¾ã™</h2>
                    <div id="options-area" class="options-list"></div>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="scene-result" class="result-screen">
                <div class="featured-label">ANALYSIS RESULT</div>
                <div class="result-card">
                    <div id="card-rarity"
                        style="font-family:var(--font-code); font-size:0.75rem; color:var(--color-accent-warm);">TYPE:
                        WOOD</div>
                    <h2 id="card-title" class="result-title">ç§°å·ãŒå…¥ã‚Šã¾ã™</h2>
                    <p id="card-desc" class="result-desc">è¨ºæ–­çµæœã®ãƒ†ã‚­ã‚¹ãƒˆ...</p>
                    <div class="item-box">
                        <strong>PRESCRIPTION:</strong> <span id="card-lucky-item">ã‚¢ã‚¤ãƒ†ãƒ </span>
                    </div>
                </div>

                <h3 style="text-align:center; font-family:var(--font-heading);">Balance Chart</h3>
                <canvas id="radarChart"></canvas>

                <div id="chart-comment"
                    style="line-height:1.8; margin-bottom:2rem; padding:1.5rem; background:var(--color-bg);"></div>

                <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
                    <button class="btn-primary" onclick="location.reload()">RE-ANALYZE</button>
                    <a href="../index.html" class="btn-primary"
                        style="background:var(--color-text); color:#fff; display:flex; align-items:center; justify-content:center;">BACK
                        TO LAB</a>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Data logic from original diagnosis.html
        let userYinYang = 'yang';
        let currentQIndex = 0;
        let scores = { wood: 0, fire: 0, earth: 0, metal: 0, water: 0 };

        const questions = [
            { text: "æ¸‹æ»ã‚„ãƒ¬ã‚¸å¾…ã¡ã§ã‚¤ãƒ©ã‚¤ãƒ©â€¦<br>ãã®æ™‚ã€å¿ƒã®ä¸­ã§ã©ã†æ€ã£ã¦ã‚‹ï¼Ÿ", options: [{ type: 'wood', label: "ã€Œãƒãƒƒã€æ—©ãå‹•ã‘ã‚ˆã€ã¨èˆŒæ‰“ã¡ã—ãã†ã«ãªã‚‹" }, { type: 'fire', label: "ã€Œæš‡ã ã—ã‚¹ãƒãƒ›è¦‹ã‚‹ã‹ï¼ã€ã¨SNSã‚’é–‹ã" }, { type: 'earth', label: "ã€Œã¾ã‚ã„ã„ã‹ã€ã¨æŒã£ã¦ãŠã„ãŸãŠè“å­ã‚’é£Ÿã¹ã‚‹" }, { type: 'metal', label: "ã€Œäºˆå®šã‚ˆã‚Š3åˆ†é…ã‚Œã‚‹â€¦ã€ã¨æ™‚é–“ã‚’è¨ˆç®—ã™ã‚‹" }, { type: 'water', label: "ã€Œãƒˆã‚¤ãƒ¬è¡ŒããŸããªã£ãŸã‚‰ã©ã†ã—ã‚ˆã†ã€ã¨ä¸å®‰ã«ãªã‚‹" }] },
            { text: "æ–°ã—ã„ä»•äº‹ã‚’ä»»ã•ã‚ŒãŸã¨ãã€<br>æœ€åˆã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ï¼Ÿ", options: [{ type: 'wood', label: "ã€Œã‚ˆã—ã€ã‚„ã£ã¦ã‚„ã‚‹ï¼ã€ã¨å³åº§ã«å‹•ãå‡ºã™" }, { type: 'fire', label: "ã€Œé¢ç™½ãã†ï¼ã€ã¨å‘¨ã‚Šã«è¨€ã„ãµã‚‰ã—ã¦ç››ã‚Šä¸ŠãŒã‚‹" }, { type: 'earth', label: "ã€Œãˆãƒ¼ã€ã‚ã‚“ã©ãã•ã„ãªâ€¦ã€ã¨ä¸€æ—¦ä¼‘æ†©ã™ã‚‹" }, { type: 'metal', label: "ã€Œãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã¯ï¼Ÿæ‰‹é †ã¯ï¼Ÿã€ã¨è©³ç´°ã‚’ç¢ºèªã™ã‚‹" }, { type: 'water', label: "ã€Œå¤±æ•—ã—ãŸã‚‰ã©ã†ã—ã‚ˆã†ã€ã¨ãƒªã‚¹ã‚¯ã‚’è€ƒãˆã‚‹" }] },
            { text: "ä¼‘æ—¥ã®éã”ã—æ–¹ã€<br>ç†æƒ³ã«è¿‘ã„ã®ã¯ã©ã‚Œï¼Ÿ", options: [{ type: 'wood', label: "ã‚¹ãƒãƒ¼ãƒ„ã‚„ã‚¸ãƒ ã§ä½“ã‚’å‹•ã‹ã—ã¦ç™ºæ•£ï¼" }, { type: 'fire', label: "ã‚¤ãƒ™ãƒ³ãƒˆã‚„é£²ã¿ä¼šã§å¤§é¨’ãï¼" }, { type: 'earth', label: "å®¶ã§ã‚´ãƒ­ã‚´ãƒ­ã—ãªãŒã‚‰å‹•ç”»ã¨ãƒãƒ†ãƒ" }, { type: 'metal', label: "éƒ¨å±‹ã®æƒé™¤ã‚„æ–­æ¨é›¢ã§å®Œç’§ã«æ•´ãˆã‚‹" }, { type: 'water', label: "ä¸€äººã§é™ã‹ã«èª­æ›¸ã‚„æ˜ ç”»é‘‘è³" }] },
            { text: "å‹é”ã¨ã®ä¼šè©±ä¸­ã€<br>ã‚ˆãã‚„ã£ã¦ã—ã¾ã†ã“ã¨ã¯ï¼Ÿ", options: [{ type: 'wood', label: "ã¤ã„ç†±ããªã£ã¦è‡ªåˆ†ã®æ„è¦‹ã‚’æŠ¼ã—é€šã™" }, { type: 'fire', label: "ç¬‘ã„ã™ãã¦ä½•ã®è©±ã‚’ã—ã¦ãŸã‹å¿˜ã‚Œã‚‹" }, { type: 'earth', label: "ã€Œã¸ãƒ¼ã€ã¨èãæµã—ã¦åˆ¥ã®äº‹è€ƒãˆã‚‹" }, { type: 'metal', label: "ç›¸æ‰‹ã®è¨€è‘‰ã®é–“é•ã„ã‚„çŸ›ç›¾ã‚’æŒ‡æ‘˜ã—ã¡ã‚ƒã†" }, { type: 'water', label: "æ„›æƒ³ç¬‘ã„ã‚’ã—ã¦æœ¬éŸ³ã¯è¨€ã‚ãªã„" }] },
            { text: "ä½“èª¿ãŒæ‚ªããªã‚‹ã¨ã€<br>æœ€åˆã«å‡ºã‚„ã™ã„ç—‡çŠ¶ã¯ï¼Ÿ", options: [{ type: 'wood', label: "ç›®ãŒç–²ã‚Œã‚‹ã€è‚©ãŒã‚¬ãƒã‚¬ãƒã«ãªã‚‹" }, { type: 'fire', label: "å‹•æ‚¸ãŒã™ã‚‹ã€çœ ã‚Œãªããªã‚‹" }, { type: 'earth', label: "èƒƒã‚‚ãŸã‚Œã™ã‚‹ã€å£å†…ç‚ãŒã§ãã‚‹" }, { type: 'metal', label: "å–‰ãŒç—›ããªã‚‹ã€å’³ãŒå‡ºã‚‹ã€è‚ŒãŒè’ã‚Œã‚‹" }, { type: 'water', label: "è¶³è…°ãŒå†·ãˆã‚‹ã€ãƒˆã‚¤ãƒ¬ãŒè¿‘ããªã‚‹" }] },
            { text: "ç†ä¸å°½ãªä¸Šå¸ã‚„å®¢ã«çµ¡ã¾ã‚ŒãŸï¼<br>ã‚ãªãŸã®è„³å†…åå¿œã¯ï¼Ÿ", options: [{ type: 'wood', label: "ã€Œã¯ï¼Ÿã€ã¨é¡”ã«å‡ºã¦ã—ã¾ã„ã€åè«–ã—ãŸããªã‚‹" }, { type: 'fire', label: "ã€Œä¿¡ã˜ã‚‰ã‚“ãªã„ï¼ã€ã¨å¾Œã§åŒåƒšã«å–‹ã‚Šæ•£ã‚‰ã™" }, { type: 'earth', label: "ã€Œç§ãŒæ‚ªã„ã®ã‹ãªâ€¦ã€ã¨ä¸€äººã§æŠ±ãˆè¾¼ã‚“ã§è½ã¡è¾¼ã‚€" }, { type: 'metal', label: "ã€Œè¦å®šã§ã¯ã“ã†ã§ã™ã€ã¨å†·é™ã«è«–ç ´ã™ã‚‹" }, { type: 'water', label: "æ€–ãã¦ä½•ã‚‚è¨€ãˆãšã€æ„›æƒ³ç¬‘ã„ã§ã‚„ã‚Šéã”ã™" }] },
            { text: "è‡¨æ™‚åå…¥ã§10ä¸‡å††å…¥ã£ãŸï¼<br>ã©ã†ä½¿ã†ï¼Ÿ", options: [{ type: 'wood', label: "æ¬²ã—ã‹ã£ãŸãƒ–ãƒ©ãƒ³ãƒ‰ç‰©ã‚„æ©Ÿæã‚’å³æ±ºã§è²·ã†" }, { type: 'fire', label: "å‹é”ã¨ç››ã‚Šä¸ŠãŒã£ã¦ãƒ‘ãƒ¼ãƒƒã¨æ´¾æ‰‹ã«ä½¿ã†" }, { type: 'earth', label: "ç¾å‘³ã—ã„ã‚‚ã®ã‚’é£Ÿã¹ã«è¡Œãã‹ã€ã¨ã‚Šã‚ãˆãšè²¯é‡‘" }, { type: 'metal', label: "ä»¥å‰ã‹ã‚‰è¨ˆç”»ã—ã¦ã„ãŸå¿…è¦ãªè¨­å‚™æŠ•è³‡ã«å›ã™" }, { type: 'water', label: "ä½•ãŒã‚ã‚‹ã‹åˆ†ã‹ã‚‰ãªã„ã‹ã‚‰ã€å…¨é¡ã‚¿ãƒ³ã‚¹é é‡‘" }] },
            { text: "éƒ¨å±‹ã®ç‰‡ä»˜ã‘ã€<br>ã‚ãªãŸã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ", options: [{ type: 'wood', label: "ã‚„ã‚‹ã¨ãªã£ãŸã‚‰å¾¹åº•çš„ã«æ¨ã¦ã¾ãã‚‹" }, { type: 'fire', label: "æ‡ã‹ã—ã„å†™çœŸã‚’è¦‹ã¤ã‘ã¦ä½œæ¥­ãŒæ­¢ã¾ã‚‹" }, { type: 'earth', label: "ã€Œã„ã¤ã‹ä½¿ã†ã‹ã‚‚ã€ã¨ç‰©ãŒæ¨ã¦ã‚‰ã‚Œãªã„" }, { type: 'metal', label: "æœ¬ã®é«˜ã•ã‚„æœã®å‘ãã¾ã§å®Œç’§ã«æƒãˆã‚‹" }, { type: 'water', label: "ãã‚‚ãã‚‚å‹•ããŸããªã„" }] },
            { text: "ã‚«ãƒ•ã‚§ã§æ³¨æ–‡ã—ãŸæ–™ç†ãŒå…¨ç„¶æ¥ãªã„â€¦<br>ã©ã†ã™ã‚‹ï¼Ÿ", options: [{ type: 'wood', label: "åº—å“¡ã‚’å‘¼ã‚“ã§ã€Œã¾ã ã§ã™ã‹ï¼Ÿã€ã¨å•ã„è©°ã‚ã‚‹" }, { type: 'fire', label: "ã€Œå¿˜ã‚Œã‚‰ã‚Œã¦ã‚‹ï¼Ÿã€ã¨ã‚½ãƒ¯ã‚½ãƒ¯ã—ã¦ã‚­ãƒ§ãƒ­ã‚­ãƒ§ãƒ­ã™ã‚‹" }, { type: 'earth', label: "è¨€ã„å‡ºã›ãªãã¦ã€ã²ãŸã™ã‚‰ãŠè…¹ã‚’ç©ºã‹ã›ã¦å¾…ã¤" }, { type: 'metal', label: "æ™‚è¨ˆã‚’è¦‹ã¦ã€Œ20åˆ†çµŒéã—ã¾ã—ãŸã­ã€ã¨äº‹å®Ÿã‚’ä¼ãˆã‚‹" }, { type: 'water', label: "ã€Œç§ã®æ³¨æ–‡ã ã‘é€šã£ã¦ãªã„ã‹ã‚‚â€¦ã€ã¨ä¸å¯©ã«æ€ã†" }] },
            { text: "å¯ã‚‹å‰ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã€<br>ä¸€ç•ªè¿‘ã„ã®ã¯ï¼Ÿ", options: [{ type: 'wood', label: "æ˜æ—¥ã®ToDoã‚’ç¢ºèªã—ã¦ã€æˆ¦é—˜æ…‹å‹¢ã§å¯ã‚‹" }, { type: 'fire', label: "ã‚¹ãƒãƒ›ã‚’è¦‹ã™ãã¦ã€æ°—ã¥ã‘ã°æ·±å¤œ2æ™‚" }, { type: 'earth', label: "ä»Šæ—¥ã‚ã£ãŸã“ã¨ã‚’æ€ã„å‡ºã—ã¦ã€ä¸€äººåçœä¼š" }, { type: 'metal', label: "ã‚¢ãƒ­ãƒã‚„æ¹¿åº¦ç®¡ç†ãªã©ã€å®Œç’§ãªç’°å¢ƒã‚’æ•´ãˆã‚‹" }, { type: 'water', label: "ãƒˆã‚¤ãƒ¬ã«è¡Œã£ãŸã‚Šæˆ¸ç· ã¾ã‚Šã‚’ç¢ºèªã—ãŸã‚Šã€è½ã¡ç€ã‹ãªã„" }] }
        ];

        const resultData = {
            wood: {
                desc: "å‘¨ã‚Šã¯ã€åœ§ãŒå¼·ã™ãã¦ã‚¦ã‚¶ã„ã€ã¨ã—ã‹æ€ã£ã¦ã­ã‡ã‚ˆã€‚çœ‰é–“ã®ã‚·ãƒ¯ã«æŒŸã¾ã£ãŸãã®ãƒ—ãƒ©ã‚¤ãƒ‰ã€ã•ã£ã•ã¨æ¨ã¦ãªã€‚è‚è‡“ãŒç„¼ãåˆ‡ã‚Œã¦ã€ãŸã ã®æ¯ã‚Œæœ¨ã«ãªã‚‹å‰ã«ã€‚",
                item: "é…¸ã£ã±ã„ã‚‚ã‚“ã‹ã˜ã£ã¦ã€ã•ã£ã•ã¨å¯ã‚ã€‚",
                yang: { title: "ANALYSIS: é™½æœ¨ã®æš´å› / ã‚¤ã‚­ã‚Šæ•£ã‚‰ã‹ã—ã®å¤§æ¨¹" },
                yin: { title: "ANALYSIS: é™°æœ¨ã®ãƒ¡ãƒ³ãƒ˜ãƒ© / çµ¡ã¿ã¤ããƒ„ã‚¿æ¤ç‰©" },
                comment: "ã€Œæœ¨ï¼ˆè‚ï¼‰ã€ãŒçªãæŠœã‘ã¦ã‚‹ã ã‚ã€‚ã“ã‚Œã¯ã€Œæ€’ã‚Šã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€ãŒæš´èµ°ã—ã¦ã‚‹è¨¼æ‹ ã ã€‚ãŠå‰ã®ãã®ã‚¤ãƒ©ã‚¤ãƒ©ãŒã€ç­‹è‚‰ã‚’ç¡¬ç›´ã•ã›ã€ç›®ã‚’ç–²ã‚Œã•ã›ã¦ã‚‹ã‚“ã ã‚ˆã€‚"
            },
            fire: {
                desc: "å¿ƒã®ç©´ã‚’ã€ã„ã„ã­ï¼ã€ã§åŸ‹ã‚ã‚ˆã†ã¨ã™ã‚‹ãªã€è™šã—ããªã‚‹ã ã‘ã ã€‚ãŠå‰ã®ãã®ãƒã‚¤ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã€è¦‹ã¦ã‚‹ã“ã£ã¡ãŒæ¯åˆ‡ã‚Œã™ã‚‹ã‚ã€‚ä¸­èº«ã‚¹ã‚«ã‚¹ã‚«ã®é¢¨èˆ¹ã‹ã‚ˆã€‚",
                item: "ã‚¹ãƒãƒ›é›»æºåˆ‡ã£ã¦ã€è‹¦ã„ã‚³ãƒ¼ãƒ’ãƒ¼é£²ã‚ã€‚",
                yang: { title: "ANALYSIS: é™½ç«ã®çˆ†å¼¾ / åˆ¶å¾¡ä¸èƒ½ã®æ ¸èåˆç‚‰" },
                yin: { title: "ANALYSIS: é™°ç«ã®æ€¨å¿µ / é™ã‹ã«å‘ªã†ç¨®ç«" },
                comment: "ã€Œç«ï¼ˆå¿ƒï¼‰ã€ã®æ•°å€¤ãŒç•°å¸¸ã ã€‚ãŠå‰ã¯å¸¸ã«ã‚¢ã‚¯ã‚»ãƒ«å…¨é–‹ã®ã‚¹ãƒãƒ¼ãƒ„ã‚«ãƒ¼ã ã€‚ãƒ–ãƒ¬ãƒ¼ã‚­ãŒå£Šã‚Œã¦ã‚‹ã‹ã‚‰ã€ã„ã¤ã‹å£ã«æ¿€çªã—ã¦ç‡ƒãˆå°½ãã‚‹ãã€‚"
            },
            earth: {
                desc: "æ‚©ã¿ã™ãã¦èƒƒã«ç©´é–‹ã‘ã‚‹ã®ãŒè¶£å‘³ã‹ï¼Ÿ ãã®ãã›ç”˜ã„è“å­ã°ã£ã‹é£Ÿã£ã¦ã€æ€è€ƒã‚‚ä½“å‹ã‚‚ãƒ‰ãƒ­ãƒ‰ãƒ­ã«æº¶ã‘ã¦ã‚“ã ã‚ˆã€‚è¦‹ã¦ã‚‰ã‚“ã­ã‡ã‚ã€‚",
                item: "èŠ‹ã¨ã‹ã‚«ãƒœãƒãƒ£é£Ÿã£ã¦ã€æ•£æ­©ã—ã‚ã€‚",
                yang: { title: "ANALYSIS: é™½åœŸã®é ‘å›ºå²© / å‹•ã‹ã–ã‚‹å±±" },
                yin: { title: "ANALYSIS: é™°åœŸã®æ²¼ / å…¨ã¦ã‚’é£²ã¿è¾¼ã‚€å„ªæŸ”ä¸æ–­" },
                comment: "ã€ŒåœŸï¼ˆè„¾ï¼‰ã€ãŒçªå‡ºã—ã¦ã‚‹ã€‚ã“ã‚Œã¯ã€Œæ‚©ã¿ã™ãã€ã¨ã€Œç³–åˆ†éå¤šã€ã®è¨¼æ˜æ›¸ã ã€‚èƒƒè…¸ãŒå¼±ã£ã¦ã€é£Ÿã¹ãŸã‚‚ã®ã‚’ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«å¤‰ãˆã‚‰ã‚Œã¦ãªã„ã€‚"
            },
            metal: {
                desc: "ç™½é»’ã¤ã‘ãªãã‚ƒæ°—ãŒæ¸ˆã¾ãªã„ãã®æ½”ç™–ã•ãŒã€å‘¨ã‚Šã®ç©ºæ°—ã¾ã§ä¹¾ç‡¥ã•ã›ã¦ã‚‹ã€‚ã‚«ã‚µã‚«ã‚µã®å¿ƒã§æ­£ã—ã•ã‚’æŒ¯ã‚Šã‹ã–ã—ã¦ã€ä½•ãŒæ¥½ã—ã„ã®ï¼Ÿ",
                item: "å¤§æ ¹ãŠã‚ã—é£Ÿã£ã¦ã€æ·±å‘¼å¸ã—ã‚ã€‚",
                yang: { title: "ANALYSIS: é™½é‡‘ã®å‡¦åˆ‘äºº / å†·å¾¹ãƒ­ãƒœãƒƒãƒˆ" },
                yin: { title: "ANALYSIS: é™°é‡‘ã®å®çŸ³ / ç²‰ã€…ã«ç •ã‘ã‚„ã™ã„è™šæ „" },
                comment: "ã€Œé‡‘ï¼ˆè‚ºï¼‰ã€ã®ã‚°ãƒ©ãƒ•ãŒå°–ã‚Šã™ãã ã€‚ãŠå‰ã¯è‡ªåˆ†ã«ã‚‚ä»–äººã«ã‚‚å³ã—ã™ãã‚‹ã€‚ãã®å®Œç’§ä¸»ç¾©ãŒã€å‘¼å¸ã‚’æµ…ãã—ã€è‚Œã‚’ä¹¾ç‡¥ã•ã›ã¦ã‚‹å…ƒå‡¶ã ã€‚"
            },
            water: {
                desc: "çŸ³æ©‹ã‚’å©ãã™ãã¦å£Šã™ã‚¿ã‚¤ãƒ—ã ãªã€‚è³¢ã„ã¤ã‚‚ã‚Šã§ã„ã‚‹ã¿ãŸã„ã ãŒã€ãã‚Œã¯ãŸã ã®ãƒ“ãƒ“ãƒªã ã€‚è…¹ã®åº•ã§è¨ˆç®—ã°ã£ã‹ã—ã¦å†·ãˆåˆ‡ã£ã¦ã‚‹ã‹ã‚‰ã€å­¤ç‹¬æ­»ä¸€ç›´ç·šã ãã€‚",
                item: "é»’è±†èŒ¶ã§ã‚‚é£²ã‚“ã§ã€æ¸©ã‚ã¨ã‘ã€‚",
                yang: { title: "ANALYSIS: é™½æ°´ã®å¤§æ´¥æ³¢ / å…¨ã¦ã‚’æµã—å»ã‚‹ç ´å£Šç¥" },
                yin: { title: "ANALYSIS: é™°æ°´ã®æ°·æŸ± / ãƒ“ãƒ“ãƒªãªæ·±æµ·é­š" },
                comment: "ã€Œæ°´ï¼ˆè…ï¼‰ã€ãŒä»–ã‚’åœ§å€’ã—ã¦ã‚‹ã€‚ã“ã‚Œã¯è³¢ã•ã˜ã‚ƒãªã„ã€ã€Œææ€–ã€ã¨ã€Œå†·ãˆã€ãŒéª¨ã®é«„ã¾ã§æŸ“ã¿ä»˜ã„ã¦ã‚‹è¨¼æ‹ ã ã€‚ç”Ÿå‘½åŠ›ã®ã‚¿ãƒ³ã‚¯ãŒæ¯æ¸‡ã—ã¦ã‚‹ãã€‚"
            }
        };

        function startGame(type) {
            userYinYang = type;
            document.getElementById('scene-start').classList.remove('active');
            document.getElementById('scene-quiz').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQIndex];
            document.getElementById('progress-bar').style.width = `${((currentQIndex) / questions.length) * 100}%`;
            document.getElementById('q-num').textContent = currentQIndex + 1;
            document.getElementById('q-text').innerHTML = q.text;
            const optionsArea = document.getElementById('options-area');
            optionsArea.innerHTML = '';
            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.textContent = opt.label;
                btn.onclick = () => answer(opt.type);
                optionsArea.appendChild(btn);
            });
        }

        function answer(type) {
            scores[type]++;
            currentQIndex++;
            if (currentQIndex < questions.length) {
                showQuestion();
            } else {
                calcResult();
            }
        }

        function calcResult() {
            const finalResultType = Object.entries(scores).sort((a, b) => b[1] - a[1])[0][0];
            const data = resultData[finalResultType];
            const specific = (userYinYang === 'yang') ? data.yang : data.yin;

            document.getElementById('scene-quiz').classList.remove('active');
            document.getElementById('scene-result').classList.add('active');

            document.getElementById('card-rarity').textContent = `TYPE: ${finalResultType.toUpperCase()}`;
            document.getElementById('card-title').textContent = specific.title;
            document.getElementById('card-desc').textContent = data.desc;
            document.getElementById('card-lucky-item').textContent = data.item;
            document.getElementById('chart-comment').innerHTML = data.comment;

            showChart();
        }

        function showChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['æœ¨', 'ç«', 'åœŸ', 'é‡‘', 'æ°´'],
                    datasets: [{
                        label: 'Analysis',
                        data: [scores.wood, scores.fire, scores.earth, scores.metal, scores.water],
                        backgroundColor: 'rgba(94, 140, 149, 0.2)',
                        borderColor: 'rgba(94, 140, 149, 1)',
                        borderWidth: 1,
                        pointBackgroundColor: '#5e8c95'
                    }]
                },
                options: {
                    scales: {
                        r: {
                            suggestedMin: 0,
                            suggestedMax: 5,
                            ticks: { display: false }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }
    </script>
    <script>function toggleTheme(){document.body.classList.toggle("dark-mode");const isDark=document.body.classList.contains("dark-mode");localStorage.setItem("theme",isDark?"dark":"light");document.querySelectorAll(".theme-toggle").forEach(b=>b.textContent=isDark?"â˜€ï¸":"ğŸŒ™");}if(localStorage.getItem("theme")==="dark"){document.body.classList.add("dark-mode");document.querySelectorAll(".theme-toggle").forEach(b=>b.textContent="â˜€ï¸");}</script>
</body>

</html>

